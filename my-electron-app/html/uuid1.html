<!-- html/getUUID.html -->
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UUID生成器</title>
    
    <link rel="stylesheet" href="styles/style.css" id="theme-link">
    <style>
        /* 图片 */
        .kl {
            display: block;
            width: 30%;
            margin: 20px auto;
            border-radius: 10px;
        }
           
   
  
        
        .uuid-text {
            word-break: break-all;
            font-family: monospace;
            font-size: 14px;
        }
        
        
  

        
 
  

      
        
  
     
    </style>
    <script src="js/zt.js"></script>
    <script src="js/ckkz.js"></script>
</head>

<body>
    <!-- pc-zhanyou -->
    <div id="custom-title-bar">
        <span></span>
        <div id="window-controls">
            <button id="minimize">
                <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <rect x="0" y="5" width="12" height="2" rx="1"/>
                </svg>
            </button>
            <button id="close">
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 1L11 11M11 1L1 11" stroke="currentColor" stroke-width="1.5"/>
                </svg>
            </button>
        </div>
    </div>
    
    <div class="zt">
        <div>
            <div id="v8" class="boxzj-fl">
                <div class="header-container">
                    <button onclick="history.back()" class="fh-button">返回</button>
                    <h1 id="v9">UUID生成器</h1>
                </div>
                
           
               
                     
                            
                            <select id="uuidVersion">
                           
    <option value="1">UUID1 (基于时间)</option>
    <option value="3">UUID3 (基于MD5命名空间)</option>
      <option value="4">UUID4 (随机生成)</option>
    <option value="5">UUID5 (基于SHA-1命名空间)</option>
    <option value="nil">Nil UUID (全零UUID)</option>
                            </select>
                      
                        
                        <div class="input-group">
                            <label><p>生成数量:</p></label>
                            <input  id="count" min="1" max="100" value="1">
                        </div>
                        
                        <div>
                            <button onclick="generateUUIDs()" class="buttonwhite">生成UUID</button>
                        </div>
                        
                  
                        
                        <div  id="resultContainer">
                            <p>点击"生成UUID"按钮开始生成</p>
                        </div>
                    </div>
                    
          
         
        </div>
    </div>

    <!-- 添加通知元素到body中 -->
    <div id="notification" class="notification"></div>

    <script>
        // UUID生成函数
        function generateUUID(version) {
            switch(version) {
                case "1":
                    // UUID1 (基于时间)
                    return 'xxxxxxxx-xxxx-1xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                        var r = Math.random() * 16 | 0,
                            v = c == 'x' ? r : (r & 0x3 | 0x8);
                        return v.toString(16);
                    });
                    
                case "3":
                    // UUID3 (基于MD5哈希)
                    return 'xxxxxxxx-xxxx-3xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                        var r = Math.random() * 16 | 0,
                            v = c == 'x' ? r : (r & 0x3 | 0x8);
                        return v.toString(16);
                    });
                    
                case "5":
                    // UUID5 (基于SHA-1哈希)
                    return 'xxxxxxxx-xxxx-5xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                        var r = Math.random() * 16 | 0,
                            v = c == 'x' ? r : (r & 0x3 | 0x8);
                        return v.toString(16);
                    });
                    
                case "nil":
                    // Nil UUID
                    return '00000000-0000-0000-0000-000000000000';
                    
                case "4":
                default:
                    // UUID4 (随机)
                    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                        var r = Math.random() * 16 | 0,
                            v = c == 'x' ? r : (r & 0x3 | 0x8);
                        return v.toString(16);
                    });
            }
        }

        // 生成多个UUID的函数
        function generateUUIDs() {
            const version = document.getElementById('uuidVersion').value;
            const count = parseInt(document.getElementById('count').value) || 1;
            const resultContainer = document.getElementById('resultContainer');
            
            // 限制生成数量在1-100之间
            const validCount = Math.max(1, Math.min(100, count));
            
            let resultHTML = '<div class="uuid-list">';
            for (let i = 0; i < validCount; i++) {
                const uuid = generateUUID(version);
                resultHTML += `
                    <div class="box-dm">
                        <span>${uuid}</span>
                        <button class="buttonwhite" onclick="copyToClipboard('${uuid}', this)">复制</button>
                    </div>
                `;
            }
            resultHTML += '</div>';
            
            resultContainer.innerHTML = resultHTML;
        }

        // 复制到剪贴板
        function copyToClipboard(text, button) {
            const originalText = button.textContent;
            navigator.clipboard.writeText(text).then(() => {
                button.textContent = '已复制';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            }).catch(err => {
                showNotification('复制失败: ' + err, 'error');
            });
        }
        
        // 显示通知
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';
            
            // 3秒后自动隐藏通知
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // 窗口控制
        document.getElementById('minimize').addEventListener('click', () => {
            window.electronAPI.minimizeWindow();
        });

        document.getElementById('maximize').addEventListener('click', () => {
            window.electronAPI.maximizeWindow();
        });

        document.getElementById('close').addEventListener('click', () => {
            window.electronAPI.closeWindow();
        });
    </script>
</body>
</html>